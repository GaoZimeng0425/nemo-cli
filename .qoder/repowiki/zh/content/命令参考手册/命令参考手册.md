# 命令参考手册

<cite>
**本文档中引用的文件**  
- [index.ts](file://packages/git/src/index.ts)
- [checkout.ts](file://packages/git/src/commands/checkout.ts)
- [commit.ts](file://packages/git/src/commands/commit.ts)
- [pull.ts](file://packages/git/src/commands/pull.ts)
- [index.ts](file://packages/file/src/index.ts)
- [ast/index.ts](file://packages/file/src/commands/ast/index.ts)
- [create-routes.ts](file://packages/file/src/commands/create-routes.ts)
- [index.ts](file://packages/package/src/index.ts)
- [add.ts](file://packages/package/src/commands/add.ts)
- [upgrade.ts](file://packages/package/src/commands/upgrade.ts)
- [remove.ts](file://packages/package/src/commands/remove.ts)
- [send.ts](file://packages/mail/src/services/send.ts)
- [index.ts](file://packages/ai/src/index.ts)
</cite>

## 目录
1. [简介](#简介)
2. [Git工具（ng）](#git工具ng)
3. [文件操作（nf）](#文件操作nf)
4. [包管理（np）](#包管理np)
5. [邮件工具（nm）](#邮件工具nm)
6. [AI工具（na）](#ai工具na)

## 简介
nemo-cli 是一个集成开发工具，提供多个功能模块的命令行接口，旨在简化日常开发任务。本手册详细记录了所有核心命令的语法、参数、使用示例和预期输出，帮助开发者高效使用该工具。

## Git工具（ng）

`ng` 命令是 Git 操作的高级封装，提供交互式界面来执行常见的 Git 任务，如分支切换、提交、拉取等。所有操作均在 Git 仓库中执行，若当前目录不是 Git 仓库，则会提示错误。

### ng checkout
切换到指定分支，支持本地和远程分支。

**语法格式**
```
ng checkout [options]
```

**参数选项**
- `-l, --local`：切换到本地分支
- `-r, --remote`：切换到远程分支
- `-b, --branch [branch]`：创建并切换到新分支

**使用示例**
```bash
# 交互式选择本地分支
ng checkout

# 创建并切换到新功能分支
ng checkout -b feature/new-login

# 切换到远程分支
ng checkout -r origin/develop
```

**预期输出**
```
Successfully checked out branch feature/new-login.
```

**使用场景**
当需要在不同功能分支间切换或创建新分支时使用此命令。交互式界面可避免手动输入分支名称的错误。

**Section sources**
- [checkout.ts](file://packages/git/src/commands/checkout.ts#L51-L115)

### ng commit
提交更改，支持自动获取分支信息、代码检查和标准化提交消息。

**语法格式**
```
ng commit
```

**参数选项**
无直接参数，通过交互式界面引导用户完成提交。

**使用示例**
```bash
ng commit
```

**预期输出**
```
✔ Current Branch:  feature/new-login
Changes to be committed:
 M src/components/Login.tsx
Select files to stage for commit (optional):
Select type: feat
Select scope: auth
Write a brief title describing the commit: implement new login form
Write a detailed description of the changes (optional): Added new login form with validation
Are you sure you want to commit? Yes
Committed
Do you want to push to remote? Yes
Pushing to remote...
```

**使用场景**
当需要提交代码更改时使用此命令。它会引导用户完成完整的提交流程，包括选择更改文件、输入提交消息和推送选项。

**Section sources**
- [commit.ts](file://packages/git/src/commands/commit.ts#L60-L177)

### ng pull
从远程仓库拉取更新，支持合并和变基模式。

**语法格式**
```
ng pull [options]
```

**参数选项**
- `-r, --rebase`：使用变基模式
- `-m, --merge`：使用合并模式（默认）

**使用示例**
```bash
# 交互式选择分支和拉取模式
ng pull

# 使用变基模式拉取
ng pull -r
```

**预期输出**
```
Select the branch to pull: main
Select pull mode: Rebase
Pulling from origin/main with rebase...
Successfully pulled and rebased.
```

**使用场景**
当需要从远程仓库获取最新更改时使用此命令。可以选择合并或变基策略来整合更改。

**Section sources**
- [pull.ts](file://packages/git/src/commands/pull.ts#L4-L50)

## 文件操作（nf）

`nf` 命令提供文件系统操作的高级功能，包括AST分析和路由生成。

### nf ast
分析文件中的中文文本，用于国际化准备。

**语法格式**
```
nf ast [options]
```

**参数选项**
- `-a, --all`：分析所有文件
- `--incremental`：增量分析（默认）
- `-e, --exclude <dirs>`：排除指定目录（逗号分隔）

**使用示例**
```bash
# 交互式选择要分析的文件
nf ast

# 分析所有文件
nf ast -a

# 分析并排除node_modules和dist目录
nf ast -e node_modules,dist
```

**预期输出**
```
Choose file you want to ast: src/components/Login.tsx
Analyzing src/components/Login.tsx...
src/components/Login.tsx:
'登录'
'请输入用户名'
'请输入密码'
Analyzing done
```

**使用场景**
当需要识别代码中所有中文文本以便进行国际化处理时使用此命令。

**Section sources**
- [ast/index.ts](file://packages/file/src/commands/ast/index.ts#L5-L70)

### nf create-routes
为应用创建路由配置，自动扫描页面文件。

**语法格式**
```
nf create-routes
```

**参数选项**
无参数，通过交互式界面选择应用包。

**使用示例**
```bash
nf create-routes
```

**预期输出**
```
Select the package to create routes: main
Creating routes for /path/to/main
Found pages:
 - /path/to/main/app/login/page.tsx
 - /path/to/main/app/dashboard/page.tsx
Successfully created routes for main
```

**使用场景**
当使用基于文件系统的路由框架（如Next.js）时，使用此命令可验证路由配置的正确性。

**Section sources**
- [create-routes.ts](file://packages/file/src/commands/create-routes.ts#L19-L48)

## 包管理（np）

`np` 命令是 pnpm 工作区的辅助工具，提供常用包管理操作的快捷方式。

### np add
添加依赖包到项目中。

**语法格式**
```
np add [package-name]
```

**参数选项**
无额外选项，直接指定包名称。

**使用示例**
```bash
# 添加单个包
np add lodash

# 添加开发依赖（需在命令后加 --dev）
np add typescript --dev
```

**预期输出**
```
Adding lodash to dependencies...
Progress: resolved 1, reused 0, downloaded 1, added 1
Success: Saved lodash
```

**使用场景**
当需要向项目添加新的依赖包时使用此命令，比直接使用 pnpm 更简洁。

**Section sources**
- [add.ts](file://packages/package/src/commands/add.ts)

### np upgrade
升级项目中的包到最新版本。

**语法格式**
```
np upgrade [package-name]
```

**参数选项**
无额外选项，可指定特定包或升级所有包。

**使用示例**
```bash
# 升级所有包
np upgrade

# 升级特定包
np upgrade react
```

**预期输出**
```
Upgrading all packages...
Checking for outdated packages...
Upgrading react from 17.0.2 to 18.0.0
Upgrading react-dom from 17.0.2 to 18.0.0
All packages upgraded successfully
```

**使用场景**
当需要保持项目依赖最新时使用此命令，确保安全性和功能更新。

**Section sources**
- [upgrade.ts](file://packages/package/src/commands/upgrade.ts)

### np remove
从项目中移除不再需要的包。

**语法格式**
```
np remove [package-name]
```

**参数选项**
无额外选项，直接指定要移除的包名称。

**使用示例**
```bash
np remove lodash
```

**预期输出**
```
Removing lodash from dependencies...
Progress: resolved 1, reused 0, downloaded 0, removed 1
Success: Removed lodash
```

**使用场景**
当项目不再需要某个依赖包时使用此命令，保持依赖列表的整洁。

**Section sources**
- [remove.ts](file://packages/package/src/commands/remove.ts)

## 邮件工具（nm）

`nm` 命令提供邮件发送功能，支持模板化邮件内容。

### nm send
发送模板化邮件，用于通知和沟通。

**语法格式**
```
nm send [options]
```

**参数选项**
- `--to <email>`：收件人邮箱
- `--subject <subject>`：邮件主题
- `--template <name>`：使用预定义模板

**使用示例**
```bash
# 发送发布通知邮件
nm send --to team@company.com --subject "New Release" --template release

# 发送自定义邮件
nm send --to manager@company.com --subject "Project Update"
```

**预期输出**
```
Sending email to team@company.com...
Using template: release
Email sent successfully
```

**使用场景**
当需要向团队成员发送标准化通知（如版本发布、状态更新）时使用此命令。

**Section sources**
- [send.ts](file://packages/mail/src/services/send.ts)

## AI工具（na）

`na` 命令提供与AI服务的交互接口，支持多种AI功能集成。

### na chat
与AI助手进行对话，获取开发建议和问题解答。

**语法格式**
```
na chat [message]
```

**参数选项**
无额外选项，直接输入要询问的内容。

**使用示例**
```bash
na chat "如何优化React性能？"
```

**预期输出**
```
Connecting to AI service...
Query: 如何优化React性能？
Response: 1. 使用React.memo进行组件记忆化
2. 避免在渲染中创建新对象
3. 使用虚拟滚动处理长列表
4. 代码分割和懒加载
...
```

**使用场景**
当遇到技术难题或需要设计建议时，使用此命令快速获取AI助手的建议。

**Section sources**
- [index.ts](file://packages/ai/src/index.ts#L1-L20)